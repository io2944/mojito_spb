<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<title>Liste des clients</title>
		<link type="text/css" rel="stylesheet" th:href="@{/style.css}"/>
	</head>
	<body>
		<div th:replace="~{inc/header :: header}"></div>
		<!-- Retour à la page de création du client -->
		<div class="retour">
			<a th:href="@{/createClient}">Créer un client</a>
		</div>

		<!-- Liste de clients qui apparaît sur la page principale commercial -->
		<div class="liste">
			<section class="cadre">
				<h2>Liste de vos clients</h2>
				<p th:if="${#lists.isEmpty(clients)}"
				   class="error">Aucun client enregistré</p>
				<div th:each="client : ${clients.content}" class="carte-client">
					<div class="titre-client-list">
						<p th:text="${client.nom}"></p>
						<p th:text="${client.typeClient}"></p>
						<p th:text="${client.email}"></p>
					</div>
					<div class="carte-actions">
						<a class="bouton-carte" th:href="@{/viewClient/{id}(id=${client.id})}">Consulter</a>
						<a class="bouton-carte" th:href="@{/updateClient/{id}(id=${client.id})}">Modifier</a>
						<a class="bouton-carte" th:href="@{/listClient(clientId=${client.id})}">Supprimer</a>
					</div>
				</div>

				<!-- Pagination simple -->
				<div class="pagination">
					<a th:if="${clients.hasPrevious()}"
					   th:href="@{/listClient(page=${clients.number - 1}, size=${clients.size})}">&laquo; Précédent</a>

					<span th:each="i : ${#numbers.sequence(0, clients.totalPages - 1)}">
        				<a th:href="@{/listClient(page=${i}, size=${clients.size})}"
					   		th:text="${i + 1}"
		   					th:classappend="${i == clients.number} ? 'active' : ''"></a>
    				</span>

					<a th:if="${clients.hasNext()}"
					   th:href="@{/listClient(page=${clients.number + 1}, size=${clients.size})}">Suivant &raquo;</a>
				</div>
			</section>
		</div>
		<div class="form-boutons form-boutons-role error-buttons">
			<a th:href="@{/home}" class="bouton-action">Retour à l'accueil</a>
		</div>

		<!-- Footer inclus en fragment Thymeleaf -->
		<div th:replace="~{inc/footer :: footer}"></div>
		<script th:src="@{/js/menu.js}" defer></script>
	</body>
</html>